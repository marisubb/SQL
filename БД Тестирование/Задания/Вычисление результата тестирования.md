# Вычисление результата тестирования

## Задание

Студент прошел тестирование (то есть все его ответы занесены в таблицу testing), далее необходимо вычислить результат и
занести его в таблицу attempt для соответствующей попытки.  Результат попытки вычислить как количество правильных ответов,
деленное на 3 (количество вопросов в каждой попытке) и умноженное на 100. Результат округлить до целого.

Будем считать, что мы знаем id попытки,  для которой вычисляется результат, в нашем случае это 8. В таблицу testing занесены следующие ответы пользователя:


| testing_id | attempt_id | question_id | answer_id |
|---|---|---|---|
| 22         | 8          | 7           | 19        |
| 23         | 8          | 6           | 17        |
| 24         | 8          | 8           | 22        |

## Фрагмент логической схемы базы данных

<img width="172" height="242" alt="image" src="https://github.com/user-attachments/assets/69a4e04e-904f-45e5-ad0f-88a70e63de31" />

## Решение

```mysql
UPDATE attempt
SET result = (
SELECT ROUND(SUM(is_correct)/3*100, 2) AS Результат
FROM testing INNER JOIN answer USING(answer_id)
WHERE attempt_id = 8
GROUP BY attempt_id)
WHERE attempt_id = 8;

SELECT * FROM attempt;
```

## Результат

<img width="988" height="395" alt="2026-02-09_23-41-38" src="https://github.com/user-attachments/assets/82a6cbc5-2e05-4be8-8017-f89702fee6bb" />

