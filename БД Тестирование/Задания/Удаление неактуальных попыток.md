# Удаление неактуальных попыток

## Задание

Удалить из таблицы attempt все попытки, выполненные раньше 1 мая 2020 года. Также удалить и все соответствующие
этим попыткам вопросы из таблицы testing, которая создавалась следующим запросом:

```mysql
CREATE TABLE testing (
    testing_id INT PRIMARY KEY AUTO_INCREMENT, 
    attempt_id INT, 
    question_id INT, 
    answer_id INT,
    FOREIGN KEY (attempt_id)  REFERENCES attempt (attempt_id) ON DELETE CASCADE
);
```

## Фрагмент логической схемы базы данных

<img width="174" height="269" alt="image" src="https://github.com/user-attachments/assets/7b9816ce-47ed-490a-9f2e-f667b05d87e4" />


<details>
<summary><h2>Наполнение таблиц attempt, testing перед выполнением запроса</h2></summary>

таблица attempt

| attempt_id | student_id | subject_id | date_attempt | result |
|---|---|---|---|---|
| 1          | 1          | 2          | 2020-03-23   | 67     |
| 2          | 3          | 1          | 2020-03-23   | 100    |
| 3          | 4          | 2          | 2020-03-26   | 0      |
| 4          | 1          | 1          | 2020-04-15   | 33     |
| 5          | 3          | 1          | 2020-04-15   | 67     |
| 6          | 4          | 2          | 2020-04-21   | 100    |
| 7          | 3          | 1          | 2020-05-17   | 33     |
| 8          | 1          | 2          | 2020-06-12   | 67     |

таблица testing

| testing_id | attempt_id | question_id | answer_id |
|---|---|---|---|
| 1          | 1          | 9           | 25        |
| 2          | 1          | 7           | 19        |
| 3          | 1          | 6           | 17        |
| 4          | 2          | 3           | 9         |
| 5          | 2          | 1           | 2         |
| 6          | 2          | 4           | 11        |
| 7          | 3          | 6           | 18        |
| 8          | 3          | 8           | 24        |
| 9          | 3          | 9           | 28        |
| 10         | 4          | 1           | 2         |
| 11         | 4          | 5           | 16        |
| 12         | 4          | 3           | 10        |
| 13         | 5          | 2           | 6         |
| 14         | 5          | 1           | 2         |
| 15         | 5          | 4           | 12        |
| 16         | 6          | 6           | 17        |
| 17         | 6          | 8           | 22        |
| 18         | 6          | 7           | 21        |
| 19         | 7          | 1           | 3         |
| 20         | 7          | 4           | 11        |
| 21         | 7          | 5           | 16        |
| 22         | 8          | 7           | 19        |
| 23         | 8          | 6           | 17        |
| 24         | 8          | 8           | 22        |

</details>

## Решение

```mysql
DELETE FROM attempt
WHERE date_attempt < "2020-05-01";

SELECT * FROM attempt;
SELECT * FROM testing;
```

## Результат

<img width="976" height="508" alt="2026-02-09_23-51-46" src="https://github.com/user-attachments/assets/9bf3852e-22ec-4bc9-ab00-fca3503620cf" />




